(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    289244,       7697]
NotebookOptionsPosition[    283753,       7597]
NotebookOutlinePosition[    284097,       7612]
CellTagsIndexPosition[    284054,       7609]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"1", "+", "1"}]], "Input",
 CellChangeTimes->{{3.6362729698362236`*^9, 
  3.636272970066228*^9}},ExpressionUUID->"db3d923a-a50b-4ca2-ac5d-\
4031c2b69046"],

Cell[BoxData["2"], "Output",
 CellChangeTimes->{3.636272970298233*^9, 3.637669804933504*^9, 
  3.6536474209311266`*^9, 
  3.653971832424405*^9},ExpressionUUID->"fc737070-bff4-4743-853f-\
6364203a6e04"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\[CapitalGamma] matrix and related", "Chapter",
 CellChangeTimes->{{3.6362850719466534`*^9, 
  3.636285082867876*^9}},ExpressionUUID->"dc5cddf8-0489-4ffb-a343-\
e58ffc557c7f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"g", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1", ",", " ", "a", ",", " ", "b"}], "}"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"a", ",", " ", "1", ",", " ", "c"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"b", ",", " ", "c", ",", "1"}], "}"}]}], "}"}]}], " ", 
  ";"}]], "Input",
 CellChangeTimes->{{3.6362850958021407`*^9, 
  3.636285106286354*^9}},ExpressionUUID->"035b278f-cac0-4f64-9adb-\
5f077b41632c"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"g", " ", "//", " ", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.636285107763384*^9, 
  3.636285110263435*^9}},ExpressionUUID->"a86535ee-167b-4928-92c5-\
f793adbbbda3"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", "a", "b"},
     {"a", "1", "c"},
     {"b", "c", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{3.6362851105834413`*^9, 
  3.6362859084452877`*^9},ExpressionUUID->"af2805fe-f00e-4986-aa0d-\
f8ef5698d98e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"es", "=", 
   RowBox[{"Eigensystem", "[", 
    RowBox[{"g", ",", " ", 
     RowBox[{"Cubics", "\[Rule]", "True"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"es", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"es", "[", 
      RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"Normalize", "[", "#", "]"}], " ", "&"}], " ", "/@", " ", 
      RowBox[{"es", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Dot", "[", 
    RowBox[{
     RowBox[{"Transpose", "[", 
      RowBox[{"es", "[", 
       RowBox[{"[", "2", "]"}], "]"}], "]"}], ",", 
     RowBox[{"DiagonalMatrix", "[", 
      RowBox[{"es", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
     RowBox[{"es", "[", 
      RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "[", 
   RowBox[{"[", 
    RowBox[{"1", ",", "1"}], "]"}], "]"}], " ", "//", "Simplify"}]}], "Input",
 CellChangeTimes->{{3.636285115385539*^9, 3.6362851213246603`*^9}, {
  3.6362854650609465`*^9, 3.636285468575632*^9}, {3.6362858483072877`*^9, 
  3.6362858717162876`*^9}, {3.6362859117472878`*^9, 
  3.6362859238502874`*^9}},ExpressionUUID->"b3a9e571-fb93-4361-a83d-\
86dc50badeb7"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"Simplify", "::", "time"}], "MessageName"], ":", 
  " ", "\<\"Time spent on a transformation exceeded \[NoBreak]\\!\\(300.`\\)\
\[NoBreak] seconds, and the transformation was aborted. Increasing the value \
of TimeConstraint option may improve the result of simplification. \
\\!\\(\\*ButtonBox[\\\"\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", \
ButtonFrame->None, ButtonData:>\\\"paclet:ref/message/Simplify/time\\\", \
ButtonNote -> \\\"Simplify::time\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{
  3.6362862246071835`*^9},ExpressionUUID->"ba8c336f-05cd-4841-a318-\
eb66e3b945a9"],

Cell[BoxData["$Aborted"], "Output",
 CellChangeTimes->{
  3.6362854714703727`*^9, {3.6362859055432873`*^9, 3.6362859179332876`*^9}, 
   3.6362863540995445`*^9},ExpressionUUID->"0b2c98cc-21b6-4494-9955-\
41d0eefeae93"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Dot", "[", 
   RowBox[{
    RowBox[{"es", "[", 
     RowBox[{"[", "2", "]"}], "]"}], ",", 
    RowBox[{"DiagonalMatrix", "[", 
     RowBox[{"es", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
    RowBox[{"Transpose", "[", 
     RowBox[{"es", "[", 
      RowBox[{"[", "2", "]"}], "]"}], "]"}]}], "]"}], " ", "//", 
  "FullSimplify"}]], "Input",
 CellChangeTimes->{{3.6362851261277604`*^9, 
  3.6362852081014423`*^9}},ExpressionUUID->"bb001e94-8c85-486e-a94c-\
21616658f875"],

Cell[BoxData["$Aborted"], "Output",
 CellChangeTimes->{{3.636285155560364*^9, 3.636285195838185*^9}, 
   3.6362852351899943`*^9},ExpressionUUID->"12097ef3-bf6a-4bdf-8b33-\
6e830097a85f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Module", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"a", "=", "4"}], ",", " ", 
     RowBox[{"b", "=", "3"}], ",", " ", 
     RowBox[{"c", "=", "5"}]}], "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"es", "=", " ", 
     RowBox[{"Eigensystem", "[", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"1", ",", " ", "a", ",", " ", "b"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"a", ",", " ", "1", ",", " ", "c"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"b", ",", " ", "c", ",", "1"}], "}"}]}], "}"}], "]"}]}], ";",
     "\[IndentingNewLine]", 
    RowBox[{"es", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"es", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"Normalize", "[", "#", "]"}], " ", "&"}], " ", "/@", " ", 
        RowBox[{"es", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Dot", "[", 
      RowBox[{
       RowBox[{"Transpose", "[", 
        RowBox[{"es", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "]"}], ",", 
       RowBox[{"DiagonalMatrix", "[", 
        RowBox[{"es", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
       RowBox[{"es", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "]"}], " ", "//", "Simplify"}]}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.636285239958083*^9, 3.63628534405577*^9}, {
  3.6362853967940598`*^9, 3.6362854076860833`*^9}, {3.636285449268362*^9, 
  3.6362854573696365`*^9}, {3.6362855525580006`*^9, 3.6362856550639615`*^9}, {
  3.636285719795676*^9, 3.636285744637182*^9}, {3.6362857794284906`*^9, 
  3.6362858357143707`*^9}},ExpressionUUID->"1a3a2e0d-3560-4f6b-8af8-\
3461d9672c19"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "4", ",", "3"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"4", ",", "1", ",", "5"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3", ",", "5", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.6362852763558273`*^9, 3.6362853153943353`*^9}, 
   3.636285408088047*^9, 3.6362854590174885`*^9, {3.6362855671787095`*^9, 
   3.6362856579999037`*^9}, 3.6362857458831573`*^9, {3.636285779810483*^9, 
   3.6362857932862144`*^9}, {3.6362858247785883`*^9, 
   3.6362858368183484`*^9}},ExpressionUUID->"bd28a4ac-6833-4f9a-b403-\
9f606c7181df"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Checks", "Chapter",
 CellChangeTimes->{{3.636285090218025*^9, 
  3.63628509134405*^9}},ExpressionUUID->"e1f4bb0d-9fd1-4add-9558-\
20da117ce88b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vDate", "=", 
   RowBox[{"{", 
    RowBox[{
    "2015", ",", " ", "4", ",", " ", "13", ",", " ", "0", ",", " ", "0", ",", 
     " ", "0"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expDate", "=", 
   RowBox[{"{", 
    RowBox[{
    "2016", ",", "4", ",", " ", "13", ",", " ", "0", ",", " ", "0", ",", " ", 
     "0"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"settDate", "=", 
   RowBox[{"{", 
    RowBox[{
    "2016", ",", "4", ",", " ", "13", ",", " ", "0", ",", " ", "0", ",", " ", 
     "0"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"barrierStartDate", "=", 
   RowBox[{"{", 
    RowBox[{
    "2015", ",", " ", "6", ",", " ", "1", ",", " ", "0", ",", "0", ",", "0"}],
     "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"barrierEndDate", "=", 
   RowBox[{"{", 
    RowBox[{
    "2015", ",", " ", "8", ",", " ", "31", ",", " ", "0", ",", "0", ",", 
     "0"}], "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.637898341986329*^9, 3.6378983543866725`*^9}, {
  3.6378983938957624`*^9, 3.6378984076921325`*^9}, {3.637898733616025*^9, 
  3.6378988442024045`*^9}},ExpressionUUID->"d0647dcf-d0dd-4214-a9d2-\
d884a60d2829"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"barrierOption", "[", 
   RowBox[{"1", ",", 
    RowBox[{"{", 
     RowBox[{"17.0", ",", "0.05", ",", "0.3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"50.0", ",", 
      RowBox[{"0.05", " ", 
       SuperscriptBox["10", 
        RowBox[{"-", "9"}]]}], ",", " ", 
      RowBox[{"0.03", " ", 
       SuperscriptBox["10", 
        RowBox[{"-", "9"}]]}]}], "}"}], ",", "0.25", ",", "0.1", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{"QuantityMagnitude", "[", 
        RowBox[{"DateDifference", "[", 
         RowBox[{
         "vDate", ",", " ", "barrierStartDate", ",", " ", "\"\<Day\>\""}], 
         "]"}], "]"}], "/", "365.25"}], ",", 
      RowBox[{
       RowBox[{"QuantityMagnitude", "[", 
        RowBox[{"DateDifference", "[", 
         RowBox[{
         "vDate", ",", " ", "barrierEndDate", ",", " ", "\"\<Day\>\""}], 
         "]"}], "]"}], "/", "365.25"}], ",", 
      RowBox[{"10", " ", 
       SuperscriptBox["10", 
        RowBox[{"-", "9"}]]}], ",", "55"}], "}"}], ",", "40", ",", 
    RowBox[{
     RowBox[{"QuantityMagnitude", "[", 
      RowBox[{"DateDifference", "[", 
       RowBox[{"vDate", ",", " ", "expDate", ",", " ", "\"\<Day\>\""}], "]"}],
       "]"}], "/", "365.25"}], ",", 
    RowBox[{
     RowBox[{"QuantityMagnitude", "[", 
      RowBox[{"DateDifference", "[", 
       RowBox[{"vDate", ",", " ", "settDate", ",", " ", "\"\<Day\>\""}], 
       "]"}], "]"}], "/", "365.25"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "2"}], ",", "2"}], "}"}]}], "]"}], " ", "/.", " ", 
  RowBox[{"BarrierOption`Private`n", " ", "\[Rule]", " ", "0"}]}]], "Input",
 CellChangeTimes->{{3.637898341986329*^9, 3.6378983543866725`*^9}, {
  3.6378983938957624`*^9, 3.6378984076921325`*^9}, {3.637898733616025*^9, 
  3.6378988442024045`*^9}, {3.637898888235452*^9, 3.6378989691725087`*^9}, {
  3.6388576057357054`*^9, 3.6388576159073195`*^9}, {3.638857660345004*^9, 
  3.6388577201946125`*^9}},ExpressionUUID->"be74b322-555d-4be9-886d-\
8ce7c7e309aa"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"General", "::", "unfl"}], "MessageName"], ":", 
  " ", "\<\"Underflow occurred in computation. \\!\\(\\*ButtonBox[\\\"\
\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", ButtonFrame->None, \
ButtonData:>\\\"paclet:ref/message/General/unfl\\\", ButtonNote -> \
\\\"General::unfl\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.638857721086666*^9, 
  3.6536474306694965`*^9},ExpressionUUID->"e3add398-73fe-4186-8d66-\
1edee70cbc61"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"General", "::", "unfl"}], "MessageName"], ":", 
  " ", "\<\"Underflow occurred in computation. \\!\\(\\*ButtonBox[\\\"\
\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", ButtonFrame->None, \
ButtonData:>\\\"paclet:ref/message/General/unfl\\\", ButtonNote -> \
\\\"General::unfl\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.638857721086666*^9, 
  3.6536474307294984`*^9},ExpressionUUID->"66b5d534-9ffd-47d1-8060-\
f48c1758360a"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"General", "::", "unfl"}], "MessageName"], ":", 
  " ", "\<\"Underflow occurred in computation. \\!\\(\\*ButtonBox[\\\"\
\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", ButtonFrame->None, \
ButtonData:>\\\"paclet:ref/message/General/unfl\\\", ButtonNote -> \
\\\"General::unfl\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.638857721086666*^9, 
  3.6536474307995005`*^9},ExpressionUUID->"def54c7c-da30-46d4-b491-\
3610aacf6403"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"General", "::", "stop"}], "MessageName"], ":", 
  " ", "\<\"Further output of \[NoBreak]\\!\\(\\*StyleBox[\\(General :: \
unfl\\), \\\"MessageName\\\"]\\)\[NoBreak] will be suppressed during this \
calculation. \\!\\(\\*ButtonBox[\\\"\[RightSkeleton]\\\", \
ButtonStyle->\\\"Link\\\", ButtonFrame->None, \
ButtonData:>\\\"paclet:ref/message/General/stop\\\", ButtonNote -> \
\\\"General::stop\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.638857721086666*^9, 
  3.653647430918505*^9},ExpressionUUID->"45d00e4a-3db4-4f3a-b196-\
6b87ea042bb4"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"General", "::", "ovfl"}], "MessageName"], ":", 
  " ", "\<\"Overflow occurred in computation. \\!\\(\\*ButtonBox[\\\"\
\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", ButtonFrame->None, \
ButtonData:>\\\"paclet:ref/message/General/ovfl\\\", ButtonNote -> \
\\\"General::ovfl\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.638857721086666*^9, 
  3.65364743102551*^9},ExpressionUUID->"65a07df2-8d69-4580-aa3a-e1ea4a00f178"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"General", "::", "ovfl"}], "MessageName"], ":", 
  " ", "\<\"Overflow occurred in computation. \\!\\(\\*ButtonBox[\\\"\
\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", ButtonFrame->None, \
ButtonData:>\\\"paclet:ref/message/General/ovfl\\\", ButtonNote -> \
\\\"General::ovfl\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.638857721086666*^9, 
  3.6536474312555165`*^9},ExpressionUUID->"df29cba4-9d07-4485-b23a-\
2acdc34f0329"],

Cell[BoxData["0.008076972685936573`"], "Output",
 CellChangeTimes->{{3.638857593702981*^9, 3.6388576177184286`*^9}, {
   3.6388576642012367`*^9, 3.6388577213986855`*^9}, 
   3.653647431345519*^9},ExpressionUUID->"48313630-b35d-462e-9509-\
a2abef0f21f2"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Port to Python", "Chapter",
 CellChangeTimes->{{3.636285090218025*^9, 3.63628509134405*^9}, {
  3.636354549595379*^9, 3.636354550437396*^9}, {3.6378990856151724`*^9, 
  3.6378990886691723`*^9}},ExpressionUUID->"75b4616d-cb2d-4656-87bd-\
17ed2a8e38bc"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"1", ",", 
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t2", "t"]]}], ",", 
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t1", "t"]]}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t2", "t"]]}], ",", "1", ",", 
      SqrtBox[
       FractionBox["t1", "t2"]]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t1", "t"]]}], ",", 
      SqrtBox[
       FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}], " ", "//", 
  "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.653650479289018*^9, 
  3.653650493315421*^9}},ExpressionUUID->"516df623-c1b4-4d39-8e19-\
f21438f0427c"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"1", 
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t2", "t"]]}], 
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t1", "t"]]}]},
     {
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t2", "t"]]}], "1", 
      SqrtBox[
       FractionBox["t1", "t2"]]},
     {
      RowBox[{
       RowBox[{"-", "corr"}], " ", "cp", " ", 
       SqrtBox[
        FractionBox["t1", "t"]]}], 
      SqrtBox[
       FractionBox["t1", "t2"]], "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.6536504936784573`*^9},ExpressionUUID->"0acf2943-b76c-48b1-ad84-\
041d41afed55"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"value", "=", 
   RowBox[{
    RowBox[{"barrierOption", "[", 
     RowBox[{"cp", ",", 
      RowBox[{"{", 
       RowBox[{"sUnd", ",", "sYield", ",", "sVol"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"bUnd", ",", "bYield", ",", "bVol"}], "}"}], ",", "corr", ",", 
      "intRate", ",", 
      RowBox[{"{", 
       RowBox[{"t1", ",", "t2", ",", "bLow", ",", "bHigh"}], "}"}], ",", 
      "strike", ",", "t", ",", " ", "ts", ",", 
      RowBox[{"{", 
       RowBox[{"nMin", ",", "nMax"}], "}"}]}], "]"}], " ", "/.", " ", 
    RowBox[{"BarrierOption`Private`n", "  ", "\[Rule]", " ", "n"}]}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.6378992254986725`*^9, 3.637899289539672*^9}, {
  3.653649824688565*^9, 3.6536498354616423`*^9}, {3.653650241063198*^9, 
  3.653650246359728*^9}},ExpressionUUID->"370b5de4-7fd2-4358-acdf-\
2b8061d3869b"],

Cell[CellGroupData[{

Cell[BoxData["value"], "Input",
 CellChangeTimes->{{3.653650344671558*^9, 
  3.653650345106601*^9}},ExpressionUUID->"267e35c6-d1f1-4dc3-9af0-\
3edefaa40ee3"],

Cell[BoxData[
 RowBox[{"cp", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{
       RowBox[{"-", "sYield"}], " ", "t"}]], " ", "sUnd", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{"2", " ", "n", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate", "+", 
             RowBox[{"bVol", " ", "corr", " ", "sVol"}]}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "bUnd"], "]"}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]}], ")"}]}], "-", 
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate", "+", 
             RowBox[{"bVol", " ", "corr", " ", "sVol"}]}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
             RowBox[{"2", " ", "n", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"2", " ", 
                  RowBox[{"Log", "[", 
                   FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"2", " ", 
                  RowBox[{"Log", "[", 
                   FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]}], ")"}]}]}], ")"}]}], 
    "-", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{
       RowBox[{"-", "intRate"}], " ", "t"}]], " ", "strike", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{"2", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate"}], ")"}], " ", "n", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "bUnd"], "]"}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}]}], ")"}]}], "-", 
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
             RowBox[{"2", " ", "n", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}]}], ")"}]}]}], ")"}]}]}], 
   ")"}]}]], "Output",
 CellChangeTimes->{3.65365034579467*^9, 3.65381511499807*^9, 
  3.653815184820739*^9},ExpressionUUID->"792cab9b-1c85-43bc-a00c-\
8d99192d75f2"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Junk", "Chapter",
 CellChangeTimes->{{3.636285090218025*^9, 3.63628509134405*^9}, {
  3.636354549595379*^9, 
  3.636354550437396*^9}},ExpressionUUID->"26de32d0-bcfd-4552-ad87-\
d75be2af4510"],

Cell[BoxData[
 RowBox[{
  RowBox[{"gammaMat", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"1", ",", 
       RowBox[{
        RowBox[{"-", "corr"}], " ", "cp", " ", 
        SqrtBox[
         FractionBox["t2", "t"]]}], ",", 
       RowBox[{
        RowBox[{"-", "corr"}], " ", "cp", " ", 
        SqrtBox[
         FractionBox["t1", "t"]]}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "corr"}], " ", "cp", " ", 
        SqrtBox[
         FractionBox["t2", "t"]]}], ",", "1", ",", 
       SqrtBox[
        FractionBox["t1", "t2"]]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "corr"}], " ", "cp", " ", 
        SqrtBox[
         FractionBox["t1", "t"]]}], ",", 
       SqrtBox[
        FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.6538153567792125`*^9, 
  3.653815366336441*^9}},ExpressionUUID->"b93c0c4b-96a2-4cad-bf8b-\
d6baa1268a11"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Limit", "[", 
  RowBox[{"gammaMat", ",", " ", 
   RowBox[{"t1", "\[Rule]", "0"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.6538153675104604`*^9, 
  3.653815374772585*^9}},ExpressionUUID->"d1c06d8d-dc10-4d20-81cb-\
be657eb033be"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", 
     RowBox[{
      RowBox[{"-", "corr"}], " ", "cp", " ", 
      SqrtBox[
       FractionBox["t2", "t"]]}], ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "corr"}], " ", "cp", " ", 
      SqrtBox[
       FractionBox["t2", "t"]]}], ",", "1", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6538153756356*^9},ExpressionUUID->"3fe70b11-e2cc-4cea-8f44-9d8ce6febe87"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"FullSimplify", "[", 
   RowBox[{"PDF", "[", 
    RowBox[{
     RowBox[{"MultinormalDistribution", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"1", ",", 
           RowBox[{
            RowBox[{"-", "corr"}], " ", "cp", " ", 
            SqrtBox[
             FractionBox["t2", "t"]]}], ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "corr"}], " ", "cp", " ", 
            SqrtBox[
             FractionBox["t2", "t"]]}], ",", "1", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "}"}]}], "]"}], ",", 
     " ", 
     RowBox[{"{", 
      RowBox[{"x", ",", "y", ",", "z"}], "}"}]}], "]"}], "]"}], "==", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{
    RowBox[{"PDF", "[", 
     RowBox[{
      RowBox[{"MultinormalDistribution", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"1", ",", 
            RowBox[{
             RowBox[{"-", "corr"}], " ", "cp", " ", 
             SqrtBox[
              FractionBox["t2", "t"]]}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "corr"}], " ", "cp", " ", 
             SqrtBox[
              FractionBox["t2", "t"]]}], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
      ",", " ", 
      RowBox[{"{", 
       RowBox[{"x", ",", "y"}], "}"}]}], "]"}], " ", 
    RowBox[{"PDF", "[", 
     RowBox[{
      RowBox[{"NormalDistribution", "[", 
       RowBox[{"0", ",", "1"}], "]"}], ",", " ", "z"}], "]"}]}], "]"}], 
  " "}]], "Input",
 CellChangeTimes->{{3.653815502613041*^9, 
  3.6538156026024218`*^9}},ExpressionUUID->"315f94aa-d991-4f93-ae79-\
d4ac1761d557"],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{{3.653815523866023*^9, 3.6538155420623274`*^9}, {
  3.6538155848820972`*^9, 
  3.6538156038834624`*^9}},ExpressionUUID->"1dc82ed8-e878-41a7-b541-\
a4873f397e2e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"test", "=", 
  RowBox[{"CDF", "[", 
   RowBox[{
    RowBox[{"MultinormalDistribution", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"1", ",", 
          RowBox[{
           RowBox[{"-", "corr"}], " ", "cp", " ", 
           SqrtBox[
            FractionBox["t2", "t"]]}], ",", 
          RowBox[{
           RowBox[{"-", "corr"}], " ", "cp", " ", 
           SqrtBox[
            FractionBox["t1", "t"]]}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "cp", " ", 
           SqrtBox[
            FractionBox["t2", "t"]]}], ",", "1", ",", 
          SqrtBox[
           FractionBox["t1", "t2"]]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "cp", " ", 
           SqrtBox[
            FractionBox["t1", "t"]]}], ",", 
          SqrtBox[
           FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"cp", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"sVol", " ", 
          SqrtBox["t"]}], "+", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"intRate", "-", 
              FractionBox[
               SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}], " ",
             "t"}], "+", 
           FractionBox[
            RowBox[{
            "2", " ", "corr", " ", "BarrierOption`Private`n", " ", "sVol", 
             " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], "-", 
           RowBox[{"Log", "[", 
            FractionBox["strike", "sUnd"], "]"}]}], 
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}]]}], ")"}]}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "corr"}], " ", "sVol", " ", 
        SqrtBox["t2"]}], "+", 
       FractionBox[
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            FractionBox[
             SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
            "intRate"}], ")"}], " ", "t2"}], "+", 
         RowBox[{"Log", "[", 
          FractionBox["bHigh", "bUnd"], "]"}], "-", 
         RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
        RowBox[{"bVol", " ", 
         SqrtBox["t2"]}]]}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"-", "corr"}], " ", "sVol", " ", 
        SqrtBox["t1"]}], "+", 
       FractionBox[
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            FractionBox[
             SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
            "intRate"}], ")"}], " ", "t1"}], "+", 
         RowBox[{"Log", "[", 
          FractionBox["bHigh", "bUnd"], "]"}]}], 
        RowBox[{"bVol", " ", 
         SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.63790018654408*^9, 3.6379001925242233`*^9}, {
  3.6379002905228586`*^9, 
  3.637900298651046*^9}},ExpressionUUID->"0a0ec0da-77d3-45f2-a9dd-\
729c22bcb592"],

Cell[BoxData[
 RowBox[{"CDF", "[", 
  RowBox[{
   RowBox[{"MultinormalDistribution", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", 
         RowBox[{
          RowBox[{"-", "corr"}], " ", "cp", " ", 
          SqrtBox[
           FractionBox["t2", "t"]]}], ",", 
         RowBox[{
          RowBox[{"-", "corr"}], " ", "cp", " ", 
          SqrtBox[
           FractionBox["t1", "t"]]}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "corr"}], " ", "cp", " ", 
          SqrtBox[
           FractionBox["t2", "t"]]}], ",", "1", ",", 
         SqrtBox[
          FractionBox["t1", "t2"]]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "corr"}], " ", "cp", " ", 
          SqrtBox[
           FractionBox["t1", "t"]]}], ",", 
         SqrtBox[
          FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"cp", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"sVol", " ", 
         SqrtBox["t"]}], "+", 
        FractionBox[
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{"intRate", "-", 
             FractionBox[
              SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}], " ", 
           "t"}], "+", 
          FractionBox[
           RowBox[{
           "2", " ", "corr", " ", "BarrierOption`Private`n", " ", "sVol", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "bUnd"], "]"}], "+", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], "-", 
          RowBox[{"Log", "[", 
           FractionBox["strike", "sUnd"], "]"}]}], 
         RowBox[{"sVol", " ", 
          SqrtBox["t"]}]]}], ")"}]}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"-", "corr"}], " ", "sVol", " ", 
       SqrtBox["t2"]}], "+", 
      FractionBox[
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           FractionBox[
            SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
           "intRate"}], ")"}], " ", "t2"}], "+", 
        RowBox[{"Log", "[", 
         FractionBox["bHigh", "bUnd"], "]"}], "-", 
        RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Log", "[", 
            FractionBox["bHigh", "bUnd"], "]"}], "+", 
           RowBox[{"Log", "[", 
            FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
       RowBox[{"bVol", " ", 
        SqrtBox["t2"]}]]}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"-", "corr"}], " ", "sVol", " ", 
       SqrtBox["t1"]}], "+", 
      FractionBox[
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           FractionBox[
            SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
           "intRate"}], ")"}], " ", "t1"}], "+", 
        RowBox[{"Log", "[", 
         FractionBox["bHigh", "bUnd"], "]"}]}], 
       RowBox[{"bVol", " ", 
        SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]], "Output",
 CellChangeTimes->{{3.6379001828500037`*^9, 3.6379001937102475`*^9}, 
   3.637900300328086*^9},ExpressionUUID->"666de570-4dcc-4501-9e59-\
0384f74a22b0"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"subs", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"CDF", "[", 
     RowBox[{
      RowBox[{"MultinormalDistribution", "[", 
       RowBox[{"mean_", ",", " ", "cov_"}], "]"}], ",", " ", "point_"}], 
     "]"}], "\[Rule]", " ", 
    RowBox[{"mvnscdf", "[", 
     RowBox[{"mean", ",", " ", "cov", ",", " ", "point"}], "]"}]}], 
   "}"}]}]], "Input",
 CellChangeTimes->{{3.6379003029911427`*^9, 3.6379003535834093`*^9}, {
  3.6536499873808327`*^9, 
  3.6536500627113647`*^9}},ExpressionUUID->"a5cb283f-d249-474f-94a7-\
60bf5e8570bd"],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"MultinormalDistribution", "::", "arprm"}], "MessageName"], ":", 
  " ", "\<\"-- Message text not found -- (\[NoBreak]\\!\\(mean_\\)\[NoBreak]) \
(\[NoBreak]\\!\\(1\\)\[NoBreak]) (\[NoBreak]\\!\\(MultinormalDistribution[\\(\
\\(mean_, cov_\\)\\)]\\)\[NoBreak]) \\!\\(\\*ButtonBox[\\\"\[RightSkeleton]\\\
\", ButtonStyle->\\\"Link\\\", ButtonFrame->None, \
ButtonData:>\\\"paclet:ref/MultinormalDistribution\\\", ButtonNote -> \
\\\"MultinormalDistribution::arprm\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{
  3.653650040586152*^9},ExpressionUUID->"1f40051c-695e-4200-a3e9-\
607e22c8c6bb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"CDF", "[", 
    RowBox[{
     RowBox[{"MultinormalDistribution", "[", 
      RowBox[{"mean_", ",", "cov_"}], "]"}], ",", "point_"}], "]"}], 
   "\[Rule]", 
   RowBox[{"mvnscdf", "[", 
    RowBox[{"mean", ",", "cov", ",", "point"}], "]"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6536500405891523`*^9},ExpressionUUID->"48350ea4-fbc0-4b46-8cc4-\
d20bf94df952"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{"value", " ", "/.", " ", 
    RowBox[{"BarrierOption`Private`n", "  ", "\[Rule]", " ", "n"}]}], ")"}], 
  " "}]], "Input",
 CellChangeTimes->{{3.653649918023897*^9, 3.653649944465541*^9}, {
  3.6536501162917223`*^9, 
  3.6536501321953125`*^9}},ExpressionUUID->"d30d6ab2-988c-4ffc-ba6a-\
4a0fae681072"],

Cell[BoxData[
 RowBox[{"cp", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{
       RowBox[{"-", "sYield"}], " ", "t"}]], " ", "sUnd", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{"2", " ", "n", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate", "+", 
             RowBox[{"bVol", " ", "corr", " ", "sVol"}]}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "bUnd"], "]"}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                   "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "-", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]}], ")"}]}], "-", 
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate", "+", 
             RowBox[{"bVol", " ", "corr", " ", "sVol"}]}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
             RowBox[{"2", " ", "n", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"2", " ", 
                  RowBox[{"Log", "[", 
                   FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"cp", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"sVol", " ", 
                  SqrtBox["t"]}], "+", 
                 FractionBox[
                  RowBox[{
                   RowBox[{
                    RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                     " ", "t"}], "+", 
                   FractionBox[
                    RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                    "bVol"], "-", 
                   RowBox[{"Log", "[", 
                    FractionBox["strike", "sUnd"], "]"}]}], 
                  RowBox[{"sVol", " ", 
                   SqrtBox["t"]}]]}], ")"}]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t2"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t2"}], "-", 
                 RowBox[{"2", " ", 
                  RowBox[{"Log", "[", 
                   FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}], "+", 
                 RowBox[{"2", " ", "n", " ", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t2"]}]]}], ",", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", "sVol", " ", 
                SqrtBox["t1"]}], "+", 
               FractionBox[
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                    "intRate"}], ")"}], " ", "t1"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "bUnd"], "]"}]}], 
                RowBox[{"bVol", " ", 
                 SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]}], ")"}]}]}], ")"}]}], 
    "-", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{
       RowBox[{"-", "intRate"}], " ", "t"}]], " ", "strike", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{"2", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate"}], ")"}], " ", "n", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "bUnd"], "]"}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"2", " ", "corr", " ", "n", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], 
                  "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "-", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}]}], ")"}]}], "-", 
       RowBox[{
        SuperscriptBox["\[ExponentialE]", 
         FractionBox[
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", 
              FractionBox[
               SuperscriptBox["bVol", "2"], "2"]}], "-", "bYield", "+", 
             "intRate"}], ")"}], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
             RowBox[{"2", " ", "n", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
          SuperscriptBox["bVol", "2"]]], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "-", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}], "+", 
          RowBox[{"CDF", "[", 
           RowBox[{
            RowBox[{"MultinormalDistribution", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1", ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", 
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t2", "t"]]}], ",", "1", ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"-", "corr"}], " ", "cp", " ", 
                   SqrtBox[
                    FractionBox["t1", "t"]]}], ",", 
                  SqrtBox[
                   FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
             "]"}], ",", 
            RowBox[{"{", 
             RowBox[{
              FractionBox[
               RowBox[{"cp", " ", 
                RowBox[{"(", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{"intRate", "-", 
                    FractionBox[
                    SuperscriptBox["sVol", "2"], "2"], "-", "sYield"}], ")"}],
                    " ", "t"}], "+", 
                  FractionBox[
                   RowBox[{"corr", " ", "sVol", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"2", " ", 
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                    RowBox[{"2", " ", "n", " ", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                    RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
                   "bVol"], "-", 
                  RowBox[{"Log", "[", 
                   FractionBox["strike", "sUnd"], "]"}]}], ")"}]}], 
               RowBox[{"sVol", " ", 
                SqrtBox["t"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t2"}], "-", 
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}], "+", 
                RowBox[{"2", " ", "n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t2"]}]], ",", 
              FractionBox[
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                   FractionBox[
                    SuperscriptBox["bVol", "2"], "2"], "+", "bYield", "-", 
                   "intRate"}], ")"}], " ", "t1"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], 
               RowBox[{"bVol", " ", 
                SqrtBox["t1"]}]]}], "}"}]}], "]"}]}], ")"}]}]}], ")"}]}]}], 
   ")"}]}]], "Output",
 CellChangeTimes->{{3.6536499373548303`*^9, 3.653649945618656*^9}, {
  3.6536499979438887`*^9, 3.6536500416292562`*^9}, {3.653650122519345*^9, 
  3.6536501328303757`*^9}},ExpressionUUID->"d80c1e69-b8d8-4824-85cc-\
d364565c0917"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xxx", "=", 
  RowBox[{
   RowBox[{"barrierOption", "[", 
    RowBox[{"1", ",", 
     RowBox[{"{", 
      RowBox[{"s", ",", "0", ",", "vol"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"s", ",", "0", ",", "vol"}], "}"}], ",", "corr", ",", "intRate",
      ",", 
     RowBox[{"{", 
      RowBox[{"t1", ",", "t2", ",", "bLow", ",", "bHigh"}], "}"}], ",", 
     "strike", ",", "t", ",", "ts", ",", 
     RowBox[{"{", 
      RowBox[{"nMin", ",", "nMax"}], "}"}]}], "]"}], " ", "//", 
   "Simplify"}]}]], "Input",
 CellChangeTimes->{{3.7325159006834087`*^9, 3.7325159664469843`*^9}, {
  3.732600954468045*^9, 3.732600987646045*^9}},
 CellLabel->"In[13]:=",ExpressionUUID->"90a0b17f-f6d5-4ba1-8d91-577b158db02f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"-", 
       FractionBox[
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"2", " ", "intRate"}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "1"}], "+", 
              RowBox[{"2", " ", "corr"}]}], ")"}], " ", 
            SuperscriptBox["vol", "2"]}]}], ")"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
            " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{"BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], ")"}]}], 
        SuperscriptBox["vol", "2"]]}]], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"CDF", "[", 
         RowBox[{
          RowBox[{"MultinormalDistribution", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"1", ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", "1", ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}], ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
           "]"}], ",", 
          RowBox[{"{", 
           RowBox[{
            FractionBox[
             RowBox[{
              RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
              RowBox[{"t", " ", 
               SuperscriptBox["vol", "2"]}], "-", 
              RowBox[{"4", " ", "corr", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
               " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}], "-", 
              RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "s"], "]"}]}], "-", 
              RowBox[{"2", " ", 
               RowBox[{"Log", "[", 
                FractionBox["strike", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{
               RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
               SuperscriptBox["vol", "2"]}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"-", "2"}], "+", 
                 RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}], "+", 
              RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t2"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{
               RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
               SuperscriptBox["vol", "2"]}], "+", 
              RowBox[{"2", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "-", 
             RowBox[{"4", " ", "corr", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "2"}], "+", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "-", 
             RowBox[{"4", " ", "corr", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"4", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "+", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "-", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "-", 
             RowBox[{"4", " ", "corr", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"4", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "+", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], ")"}]}], "+", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      FractionBox[
       RowBox[{"BarrierOption`Private`n", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"2", " ", "intRate"}], "+", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "1"}], "+", 
             RowBox[{"2", " ", "corr"}]}], ")"}], " ", 
           SuperscriptBox["vol", "2"]}]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Log", "[", 
           FractionBox["bHigh", "s"], "]"}], "+", 
          RowBox[{"Log", "[", 
           FractionBox["bLow", "s"], "]"}]}], ")"}]}], 
       SuperscriptBox["vol", "2"]]], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"CDF", "[", 
         RowBox[{
          RowBox[{"MultinormalDistribution", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"1", ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", "1", ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}], ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
           "]"}], ",", 
          RowBox[{"{", 
           RowBox[{
            FractionBox[
             RowBox[{
              RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
              RowBox[{"t", " ", 
               SuperscriptBox["vol", "2"]}], "+", 
              RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}], "+", 
              RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "s"], "]"}]}], "-", 
              RowBox[{"2", " ", 
               RowBox[{"Log", "[", 
                FractionBox["strike", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{
               RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
               SuperscriptBox["vol", "2"]}], "-", 
              RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"2", "-", 
                 RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t2"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{
               RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
               SuperscriptBox["vol", "2"]}], "+", 
              RowBox[{"2", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
              SuperscriptBox["vol", "2"]}], "-", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "-", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "-", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "-", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t2", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "-", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "intRate", " ", "t1"}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"2", " ", "corr"}]}], ")"}], " ", "t1", " ", 
              SuperscriptBox["vol", "2"]}], "+", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], ")"}]}]}], ",", 
   RowBox[{
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      FractionBox[
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", "intRate"}], "+", 
          SuperscriptBox["vol", "2"]}], ")"}], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], " ", 
           RowBox[{"Log", "[", 
            FractionBox["bHigh", "s"], "]"}]}], "+", 
          RowBox[{"BarrierOption`Private`n", " ", 
           RowBox[{"Log", "[", 
            FractionBox["bLow", "s"], "]"}]}]}], ")"}]}], 
       SuperscriptBox["vol", "2"]]], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"CDF", "[", 
         RowBox[{
          RowBox[{"MultinormalDistribution", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"1", ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", "1", ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}], ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
           "]"}], ",", 
          RowBox[{"{", 
           RowBox[{
            FractionBox[
             RowBox[{
              RowBox[{"2", " ", "intRate", " ", "t"}], "-", 
              RowBox[{"t", " ", 
               SuperscriptBox["vol", "2"]}], "-", 
              RowBox[{"4", " ", "corr", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
               " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}], "-", 
              RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "s"], "]"}]}], "-", 
              RowBox[{"2", " ", 
               RowBox[{"Log", "[", 
                FractionBox["strike", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{
               RowBox[{"-", "2"}], " ", "intRate", " ", "t2"}], "+", 
              RowBox[{"t2", " ", 
               SuperscriptBox["vol", "2"]}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"-", "2"}], "+", 
                 RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}], "+", 
              RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t2"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{
               FractionBox["1", "2"], " ", "t1", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                 SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], 
             RowBox[{
              SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "-", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "-", 
             RowBox[{"4", " ", "corr", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{"t2", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "2"}], "+", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              FractionBox["1", "2"], " ", "t1", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "-", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "-", 
             RowBox[{"4", " ", "corr", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{"t2", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"4", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "+", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              FractionBox["1", "2"], " ", "t1", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "-", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"2", " ", "intRate", " ", "t"}], "-", 
             RowBox[{"t", " ", 
              SuperscriptBox["vol", "2"]}], "-", 
             RowBox[{"4", " ", "corr", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}], "-", 
             RowBox[{"2", " ", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{"t2", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"4", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
              " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "+", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              FractionBox["1", "2"], " ", "t1", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], ")"}]}], "+", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", 
      RowBox[{"-", 
       FractionBox[
        RowBox[{"BarrierOption`Private`n", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], " ", "intRate"}], "+", 
           SuperscriptBox["vol", "2"]}], ")"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Log", "[", 
            FractionBox["bHigh", "s"], "]"}], "+", 
           RowBox[{"Log", "[", 
            FractionBox["bLow", "s"], "]"}]}], ")"}]}], 
        SuperscriptBox["vol", "2"]]}]], " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"CDF", "[", 
         RowBox[{
          RowBox[{"MultinormalDistribution", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"1", ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", 
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t2", "t"]]}], ",", "1", ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "corr"}], " ", 
                 SqrtBox[
                  FractionBox["t1", "t"]]}], ",", 
                SqrtBox[
                 FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], 
           "]"}], ",", 
          RowBox[{"{", 
           RowBox[{
            FractionBox[
             RowBox[{
              RowBox[{"t", " ", 
               RowBox[{"(", 
                RowBox[{"intRate", "-", 
                 FractionBox[
                  SuperscriptBox["vol", "2"], "2"]}], ")"}]}], "+", 
              RowBox[{"2", " ", "corr", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "s"], "]"}], "+", 
                 RowBox[{"Log", "[", 
                  FractionBox["bLow", "s"], "]"}]}], ")"}]}], "-", 
              RowBox[{"Log", "[", 
               FractionBox["strike", "s"], "]"}]}], 
             RowBox[{
              SqrtBox["t"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{"t2", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                 SuperscriptBox["vol", "2"]}], ")"}]}], "-", 
              RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "s"], "]"}]}], "+", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"2", "-", 
                 RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "s"], "]"}]}]}], 
             RowBox[{"2", " ", 
              SqrtBox["t2"], " ", "vol"}]], ",", 
            FractionBox[
             RowBox[{
              RowBox[{
               FractionBox["1", "2"], " ", "t1", " ", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                 SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], 
             RowBox[{
              SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"t", " ", 
              RowBox[{"(", 
               RowBox[{"intRate", "-", 
                FractionBox[
                 SuperscriptBox["vol", "2"], "2"]}], ")"}]}], "+", 
             RowBox[{"2", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "s"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "s"], "]"}]}], ")"}]}], "-", 
             RowBox[{"Log", "[", 
              FractionBox["strike", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{"t2", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "-", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "-", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              FractionBox["1", "2"], " ", "t1", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "+", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"t", " ", 
              RowBox[{"(", 
               RowBox[{"intRate", "-", 
                FractionBox[
                 SuperscriptBox["vol", "2"], "2"]}], ")"}]}], "+", 
             RowBox[{"2", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "s"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "s"], "]"}]}], ")"}]}], "-", 
             RowBox[{"Log", "[", 
              FractionBox["strike", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{"t2", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "-", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              FractionBox["1", "2"], " ", "t1", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "-", 
       RowBox[{"CDF", "[", 
        RowBox[{
         RowBox[{"MultinormalDistribution", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"1", ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", 
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t2", "t"]]}], ",", "1", ",", 
               SqrtBox[
                FractionBox["t1", "t2"]]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"-", "corr"}], " ", 
                SqrtBox[
                 FractionBox["t1", "t"]]}], ",", 
               SqrtBox[
                FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}],
          ",", 
         RowBox[{"{", 
          RowBox[{
           FractionBox[
            RowBox[{
             RowBox[{"t", " ", 
              RowBox[{"(", 
               RowBox[{"intRate", "-", 
                FractionBox[
                 SuperscriptBox["vol", "2"], "2"]}], ")"}]}], "+", 
             RowBox[{"2", " ", "corr", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "s"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "s"], "]"}]}], ")"}]}], "-", 
             RowBox[{"Log", "[", 
              FractionBox["strike", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{"t2", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"2", "-", 
                RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
              RowBox[{"Log", "[", 
               FractionBox["bHigh", "s"], "]"}]}], "-", 
             RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
              RowBox[{"Log", "[", 
               FractionBox["bLow", "s"], "]"}]}]}], 
            RowBox[{"2", " ", 
             SqrtBox["t2"], " ", "vol"}]], ",", 
           FractionBox[
            RowBox[{
             RowBox[{
              FractionBox["1", "2"], " ", "t1", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"-", "2"}], " ", "intRate"}], "+", 
                SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}], 
            RowBox[{
             SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], ")"}]}]}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.732515960896429*^9, 3.7325159695182915`*^9}, 
   3.7325162828346195`*^9, {3.7326009723790455`*^9, 3.7326009902280455`*^9}},
 CellLabel->"Out[13]=",ExpressionUUID->"bedd095b-d358-4ec8-b061-3010e5296659"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Limit", "[", 
  RowBox[{
   RowBox[{"xxx", "[", 
    RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
   RowBox[{"corr", "\[Rule]", "1"}], ",", " ", 
   RowBox[{"Direction", "\[Rule]", "\"\<FromBelow\>\""}]}], "]"}]], "Input",
 CellChangeTimes->{{3.732515985278867*^9, 3.7325160239987383`*^9}},
 CellLabel->"In[15]:=",ExpressionUUID->"16943a65-8779-41c2-bff2-783f4f9af627"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    FractionBox[
     RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          SuperscriptBox["bVol", "2"], "2"]}], "+", "intRate", "+", 
        RowBox[{"bVol", " ", "corr", " ", "sVol"}]}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Log", "[", 
         FractionBox["bHigh", "bUnd"], "]"}], "+", 
        RowBox[{"Log", "[", 
         FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], 
     SuperscriptBox["bVol", "2"]]], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{
             "2", " ", "corr", " ", "BarrierOption`Private`n", " ", "sVol", 
              " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}], "-", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{
             "2", " ", "corr", " ", "BarrierOption`Private`n", " ", "sVol", 
              " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}], "-", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{
             "2", " ", "corr", " ", "BarrierOption`Private`n", " ", "sVol", 
              " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}], "-", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "+", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{
             "2", " ", "corr", " ", "BarrierOption`Private`n", " ", "sVol", 
              " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Log", "[", 
                 FractionBox["bHigh", "bUnd"], "]"}], "+", 
                RowBox[{"Log", "[", 
                 FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}], "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}], "-", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]}], ")"}]}], "-", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    FractionBox[
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", 
         FractionBox[
          SuperscriptBox["bVol", "2"], "2"]}], "+", "intRate", "+", 
        RowBox[{"bVol", " ", "corr", " ", "sVol"}]}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", 
         RowBox[{"Log", "[", 
          FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
        RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Log", "[", 
            FractionBox["bHigh", "bUnd"], "]"}], "+", 
           RowBox[{"Log", "[", 
            FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
     SuperscriptBox["bVol", "2"]]], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{"corr", " ", "sVol", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
             "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "-", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}], "+", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{"corr", " ", "sVol", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
             "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "-", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}], "+", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "-", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{"corr", " ", "sVol", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
             "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "-", 
            RowBox[{"2", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}], "+", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}], "+", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "corr"}], " ", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"sVol", " ", 
           SqrtBox["t"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"intRate", "-", 
               FractionBox[
                SuperscriptBox["sVol", "2"], "2"]}], ")"}], " ", "t"}], "+", 
            FractionBox[
             RowBox[{"corr", " ", "sVol", " ", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"2", " ", 
                 RowBox[{"Log", "[", 
                  FractionBox["bHigh", "bUnd"], "]"}]}], "-", 
                RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{"Log", "[", 
                    FractionBox["bHigh", "bUnd"], "]"}], "+", 
                   RowBox[{"Log", "[", 
                    FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], ")"}]}], 
             "bVol"], "-", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "sUnd"], "]"}]}], 
           RowBox[{"sVol", " ", 
            SqrtBox["t"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t2"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t2"}], "-", 
            RowBox[{"2", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "bUnd"], "]"}]}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}], "+", 
            RowBox[{"2", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"Log", "[", 
                FractionBox["bHigh", "bUnd"], "]"}], "+", 
               RowBox[{"Log", "[", 
                FractionBox["bLow", "bUnd"], "]"}]}], ")"}]}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t2"]}]]}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "corr"}], " ", "sVol", " ", 
           SqrtBox["t1"]}], "+", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               FractionBox[
                SuperscriptBox["bVol", "2"], "2"], "-", "intRate"}], ")"}], 
             " ", "t1"}], "+", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "bUnd"], "]"}]}], 
           RowBox[{"bVol", " ", 
            SqrtBox["t1"]}]]}]}], "}"}]}], "]"}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{3.7325159869650354`*^9},
 CellLabel->"Out[14]=",ExpressionUUID->"d2d1633f-830a-468c-a388-b79b95b7f719"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Simplify", "[", 
  RowBox[{
   RowBox[{"xxx", "[", 
    RowBox[{"[", "1", "]"}], "]"}], "/.", 
   RowBox[{"{", 
    RowBox[{"corr", "\[Rule]", "1"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.7325162898883247`*^9, 3.732516317061042*^9}, {
  3.732601079142045*^9, 3.732601093462206*^9}, {3.7326011262864876`*^9, 
  3.732601136149474*^9}, {3.732601204555314*^9, 
  3.7326012081116695`*^9}},ExpressionUUID->"99536f7c-5655-41e0-9e9d-\
b08fa0176861"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    RowBox[{"-", 
     FractionBox[
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"2", " ", "intRate"}], "+", 
         SuperscriptBox["vol", "2"]}], ")"}], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], " ", 
          RowBox[{"Log", "[", 
           FractionBox["bHigh", "s"], "]"}]}], "+", 
         RowBox[{"BarrierOption`Private`n", " ", 
          RowBox[{"Log", "[", 
           FractionBox["bLow", "s"], "]"}]}]}], ")"}]}], 
      SuperscriptBox["vol", "2"]]}]], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{"CDF", "[", 
       RowBox[{
        RowBox[{"MultinormalDistribution", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"1", ",", 
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t2", "t"]]}], ",", 
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t1", "t"]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t2", "t"]]}], ",", "1", ",", 
              SqrtBox[
               FractionBox["t1", "t2"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t1", "t"]]}], ",", 
              SqrtBox[
               FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{
          FractionBox[
           RowBox[{
            RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
            RowBox[{"t", " ", 
             SuperscriptBox["vol", "2"]}], "-", 
            RowBox[{"4", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
             " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}], "-", 
            RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}], "-", 
            RowBox[{"2", " ", 
             RowBox[{"Log", "[", 
              FractionBox["strike", "s"], "]"}]}]}], 
           RowBox[{"2", " ", 
            SqrtBox["t"], " ", "vol"}]], ",", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"-", "t2"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"2", " ", "intRate"}], "+", 
               SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"-", "2"}], "+", 
               RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}], "+", 
            RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}]}], 
           RowBox[{"2", " ", 
            SqrtBox["t2"], " ", "vol"}]], ",", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"-", "t1"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"2", " ", "intRate"}], "+", 
               SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
            RowBox[{"2", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}]}], 
           RowBox[{"2", " ", 
            SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], "+", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         FractionBox[
          RowBox[{
           RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
           RowBox[{"t", " ", 
            SuperscriptBox["vol", "2"]}], "-", 
           RowBox[{"4", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
            " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "-", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}], "-", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t2"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "2"}], "+", 
              RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t2"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t1"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "+", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         FractionBox[
          RowBox[{
           RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
           RowBox[{"t", " ", 
            SuperscriptBox["vol", "2"]}], "-", 
           RowBox[{"4", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
            " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "-", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}], "-", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t2"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"4", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
            " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"2", "+", 
              RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t2"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t1"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "-", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         FractionBox[
          RowBox[{
           RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
           RowBox[{"t", " ", 
            SuperscriptBox["vol", "2"]}], "-", 
           RowBox[{"4", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
            " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "-", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}], "-", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t2"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"4", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "1"}], "+", "BarrierOption`Private`n"}], ")"}], 
            " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"2", "+", 
              RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t2"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t1"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], ")"}]}], "+", 
  RowBox[{
   SuperscriptBox["\[ExponentialE]", 
    FractionBox[
     RowBox[{"BarrierOption`Private`n", " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "intRate"}], "+", 
        SuperscriptBox["vol", "2"]}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Log", "[", 
         FractionBox["bHigh", "s"], "]"}], "+", 
        RowBox[{"Log", "[", 
         FractionBox["bLow", "s"], "]"}]}], ")"}]}], 
     SuperscriptBox["vol", "2"]]], " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{"CDF", "[", 
       RowBox[{
        RowBox[{"MultinormalDistribution", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"1", ",", 
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t2", "t"]]}], ",", 
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t1", "t"]]}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t2", "t"]]}], ",", "1", ",", 
              SqrtBox[
               FractionBox["t1", "t2"]]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               SqrtBox[
                FractionBox["t1", "t"]]}], ",", 
              SqrtBox[
               FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
        ",", 
        RowBox[{"{", 
         RowBox[{
          FractionBox[
           RowBox[{
            RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
            RowBox[{"t", " ", 
             SuperscriptBox["vol", "2"]}], "+", 
            RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}], "+", 
            RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}], "-", 
            RowBox[{"2", " ", 
             RowBox[{"Log", "[", 
              FractionBox["strike", "s"], "]"}]}]}], 
           RowBox[{"2", " ", 
            SqrtBox["t"], " ", "vol"}]], ",", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"-", "t2"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"2", " ", "intRate"}], "+", 
               SuperscriptBox["vol", "2"]}], ")"}]}], "-", 
            RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}], "+", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"2", "-", 
               RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
             RowBox[{"Log", "[", 
              FractionBox["bLow", "s"], "]"}]}]}], 
           RowBox[{"2", " ", 
            SqrtBox["t2"], " ", "vol"}]], ",", 
          FractionBox[
           RowBox[{
            RowBox[{
             RowBox[{"-", "t1"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"2", " ", "intRate"}], "+", 
               SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
            RowBox[{"2", " ", 
             RowBox[{"Log", "[", 
              FractionBox["bHigh", "s"], "]"}]}]}], 
           RowBox[{"2", " ", 
            SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], "+", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         FractionBox[
          RowBox[{
           RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
           RowBox[{"t", " ", 
            SuperscriptBox["vol", "2"]}], "+", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}], "-", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t2"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "-", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"2", "-", 
              RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t2"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t1"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "+", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         FractionBox[
          RowBox[{
           RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
           RowBox[{"t", " ", 
            SuperscriptBox["vol", "2"]}], "+", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}], "-", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t2"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"2", "-", 
              RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "-", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t2"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t1"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}], "-", 
     RowBox[{"CDF", "[", 
      RowBox[{
       RowBox[{"MultinormalDistribution", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"1", ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", 
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t2", "t"]]}], ",", "1", ",", 
             SqrtBox[
              FractionBox["t1", "t2"]]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", 
              SqrtBox[
               FractionBox["t1", "t"]]}], ",", 
             SqrtBox[
              FractionBox["t1", "t2"]], ",", "1"}], "}"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{
         FractionBox[
          RowBox[{
           RowBox[{"2", " ", "intRate", " ", "t"}], "+", 
           RowBox[{"t", " ", 
            SuperscriptBox["vol", "2"]}], "+", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "+", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}], "-", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["strike", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t2"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"2", "-", 
              RowBox[{"4", " ", "BarrierOption`Private`n"}]}], ")"}], " ", 
            RowBox[{"Log", "[", 
             FractionBox["bHigh", "s"], "]"}]}], "-", 
           RowBox[{"4", " ", "BarrierOption`Private`n", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t2"], " ", "vol"}]], ",", 
         FractionBox[
          RowBox[{
           RowBox[{
            RowBox[{"-", "t1"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"2", " ", "intRate"}], "+", 
              SuperscriptBox["vol", "2"]}], ")"}]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"Log", "[", 
             FractionBox["bLow", "s"], "]"}]}]}], 
          RowBox[{"2", " ", 
           SqrtBox["t1"], " ", "vol"}]]}], "}"}]}], "]"}]}], 
    ")"}]}]}]], "Output",
 CellChangeTimes->{{3.732516295231859*^9, 3.7325163185441904`*^9}, 
   3.7326010309410453`*^9, {3.732601087944654*^9, 3.7326010939232516`*^9}},
 CellLabel->"Out[16]=",ExpressionUUID->"310a296c-3e84-453e-b3b7-6c2c1a2b7885"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1328, 894},
WindowMargins->{{Automatic, 133}, {Automatic, 25}},
FrontEndVersion->"11.3 for Microsoft Windows (64-bit) (March 6, 2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 177, 4, 28, "Input",ExpressionUUID->"db3d923a-a50b-4ca2-ac5d-4031c2b69046"],
Cell[760, 28, 201, 4, 32, "Output",ExpressionUUID->"fc737070-bff4-4743-853f-6364203a6e04"]
}, Open  ]],
Cell[CellGroupData[{
Cell[998, 37, 181, 3, 67, "Chapter",ExpressionUUID->"dc5cddf8-0489-4ffb-a343-e58ffc557c7f"],
Cell[1182, 42, 481, 14, 28, "Input",ExpressionUUID->"035b278f-cac0-4f64-9adb-5f077b41632c"],
Cell[CellGroupData[{
Cell[1688, 60, 195, 4, 28, "Input",ExpressionUUID->"a86535ee-167b-4928-92c5-f793adbbbda3"],
Cell[1886, 66, 745, 21, 65, "Output",ExpressionUUID->"af2805fe-f00e-4986-aa0d-f8ef5698d98e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2668, 92, 1285, 37, 67, "Input",ExpressionUUID->"b3a9e571-fb93-4361-a83d-86dc50badeb7"],
Cell[3956, 131, 643, 12, 21, "Message",ExpressionUUID->"ba8c336f-05cd-4841-a318-eb66e3b945a9"],
Cell[4602, 145, 217, 4, 32, "Output",ExpressionUUID->"0b2c98cc-21b6-4494-9955-41d0eefeae93"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4856, 154, 519, 15, 28, "Input",ExpressionUUID->"bb001e94-8c85-486e-a94c-21616658f875"],
Cell[5378, 171, 186, 3, 32, "Output",ExpressionUUID->"12097ef3-bf6a-4bdf-8b33-6e830097a85f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5601, 179, 1831, 48, 105, "Input",ExpressionUUID->"1a3a2e0d-3560-4f6b-8af8-3461d9672c19"],
Cell[7435, 229, 621, 14, 32, "Output",ExpressionUUID->"bd28a4ac-6833-4f9a-b403-9f606c7181df"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[8105, 249, 150, 3, 56, "Chapter",ExpressionUUID->"e1f4bb0d-9fd1-4add-9558-20da117ce88b"],
Cell[8258, 254, 1228, 34, 105, "Input",ExpressionUUID->"d0647dcf-d0dd-4214-a9d2-d884a60d2829"],
Cell[CellGroupData[{
Cell[9511, 292, 2033, 50, 94, "Input",ExpressionUUID->"be74b322-555d-4be9-886d-8ce7c7e309aa"],
Cell[11547, 344, 485, 10, 21, "Message",ExpressionUUID->"e3add398-73fe-4186-8d66-1edee70cbc61"],
Cell[12035, 356, 485, 10, 21, "Message",ExpressionUUID->"66b5d534-9ffd-47d1-8060-f48c1758360a"],
Cell[12523, 368, 485, 10, 21, "Message",ExpressionUUID->"def54c7c-da30-46d4-b491-3610aacf6403"],
Cell[13011, 380, 599, 12, 21, "Message",ExpressionUUID->"45d00e4a-3db4-4f3a-b196-6b87ea042bb4"],
Cell[13613, 394, 479, 9, 21, "Message",ExpressionUUID->"65a07df2-8d69-4580-aa3a-e1ea4a00f178"],
Cell[14095, 405, 484, 10, 21, "Message",ExpressionUUID->"df29cba4-9d07-4485-b23a-2acdc34f0329"],
Cell[14582, 417, 253, 4, 32, "Output",ExpressionUUID->"48313630-b35d-462e-9509-a2abef0f21f2"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[14884, 427, 257, 4, 67, "Chapter",ExpressionUUID->"75b4616d-cb2d-4656-87bd-17ed2a8e38bc"],
Cell[CellGroupData[{
Cell[15166, 435, 957, 33, 55, "Input",ExpressionUUID->"516df623-c1b4-4d39-8e19-f21438f0427c"],
Cell[16126, 470, 1245, 41, 149, "Output",ExpressionUUID->"0acf2943-b76c-48b1-ad84-041d41afed55"]
}, Open  ]],
Cell[17386, 514, 878, 21, 28, "Input",ExpressionUUID->"370b5de4-7fd2-4358-acdf-2b8061d3869b"],
Cell[CellGroupData[{
Cell[18289, 539, 157, 3, 28, "Input",ExpressionUUID->"267e35c6-d1f1-4dc3-9af0-3edefaa40ee3"],
Cell[18449, 544, 68236, 1714, 3455, "Output",ExpressionUUID->"792cab9b-1c85-43bc-a00c-8d99192d75f2"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[86734, 2264, 197, 4, 56, "Chapter",ExpressionUUID->"26de32d0-bcfd-4552-ad87-d75be2af4510"],
Cell[86934, 2270, 997, 34, 55, "Input",ExpressionUUID->"b93c0c4b-96a2-4cad-bf8b-d6baa1268a11"],
Cell[CellGroupData[{
Cell[87956, 2308, 252, 6, 28, "Input",ExpressionUUID->"d1c06d8d-dc10-4d20-81cb-be657eb033be"],
Cell[88211, 2316, 568, 18, 59, "Output",ExpressionUUID->"3fe70b11-e2cc-4cea-8f44-9d8ce6febe87"]
}, Open  ]],
Cell[CellGroupData[{
Cell[88816, 2339, 1970, 60, 104, "Input",ExpressionUUID->"315f94aa-d991-4f93-ae79-d4ac1761d557"],
Cell[90789, 2401, 212, 4, 32, "Output",ExpressionUUID->"1dc82ed8-e878-41a7-b541-a4873f397e2e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[91038, 2410, 3573, 107, 197, "Input",ExpressionUUID->"0a0ec0da-77d3-45f2-a9dd-729c22bcb592"],
Cell[94614, 2519, 3409, 104, 203, "Output",ExpressionUUID->"666de570-4dcc-4501-9e59-0384f74a22b0"]
}, Open  ]],
Cell[CellGroupData[{
Cell[98060, 2628, 556, 15, 28, "Input",ExpressionUUID->"a5cb283f-d249-474f-94a7-60bf5e8570bd"],
Cell[98619, 2645, 646, 12, 21, "Message",ExpressionUUID->"1f40051c-695e-4200-a3e9-607e22c8c6bb"],
Cell[99268, 2659, 414, 12, 32, "Output",ExpressionUUID->"48350ea4-fbc0-4b46-8cc4-d20bf94df952"]
}, Open  ]],
Cell[CellGroupData[{
Cell[99719, 2676, 352, 9, 28, "Input",ExpressionUUID->"d30d6ab2-988c-4ffc-ba6a-4a0fae681072"],
Cell[100074, 2687, 68321, 1715, 3455, "Output",ExpressionUUID->"d80c1e69-b8d8-4824-85cc-d364565c0917"]
}, Open  ]],
Cell[CellGroupData[{
Cell[168432, 4407, 733, 18, 28, "Input",ExpressionUUID->"90a0b17f-f6d5-4ba1-8d91-577b158db02f"],
Cell[169168, 4427, 57879, 1539, 2791, "Output",ExpressionUUID->"bedd095b-d358-4ec8-b061-3010e5296659"]
}, Open  ]],
Cell[CellGroupData[{
Cell[227084, 5971, 391, 8, 28, "Input",ExpressionUUID->"16943a65-8779-41c2-bff2-783f4f9af627"],
Cell[227478, 5981, 30327, 873, 1645, "Output",ExpressionUUID->"d2d1633f-830a-468c-a388-b79b95b7f719"]
}, Open  ]],
Cell[CellGroupData[{
Cell[257842, 6859, 475, 11, 28, "Input",ExpressionUUID->"99536f7c-5655-41e0-9e9d-b08fa0176861"],
Cell[258320, 6872, 25405, 721, 1325, "Output",ExpressionUUID->"310a296c-3e84-453e-b3b7-6c2c1a2b7885"]
}, Open  ]]
}, Open  ]]
}
]
*)

